/*
 * SystemJS
 * 
 * Copyright (c) 2013 Guy Bedford
 * MIT License
 */

!function(__$global){__$global.upgradeSystemLoader=function(){function core(loader){function __eval(__source,__global,__address,__sourceMap){try{__source="with(__global) { (function() { "+__source+" \n }).call(__global); }\n//# sourceURL="+__address+(__sourceMap?"\n//# sourceMappingURL="+__sourceMap:""),eval(__source)}catch(e){throw"SyntaxError"==e.name&&(e.message="Evaluating "+__address+"\n	"+e.message),e}}!function(){function e(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function t(t,n){function r(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}return n=e(n||""),t=e(t||""),n&&t?(n.protocol||t.protocol)+(n.protocol||n.authority?n.authority:t.authority)+r(n.protocol||n.authority||"/"===n.pathname.charAt(0)?n.pathname:n.pathname?(t.authority&&!t.pathname?"/":"")+t.pathname.slice(0,t.pathname.lastIndexOf("/")+1)+n.pathname:t.pathname)+(n.protocol||n.authority||n.pathname?n.search:n.search||t.search)+n.hash:null}var n=System,r=function(e){if(!(e instanceof Module)){for(var t=[],n=0;n<e.length;n++)t[n]=r(e[n]);return t}return e.__useDefault?e["default"]:e};loader.getModule=function(e){return r(loader.get(e))},loader.set("@empty",Module({}));var a=loader["import"];loader["import"]=function(e,t){return new Promise(function(n){n(loader.normalize.call(this,e,t&&t.name,t&&t.address))}).then(function(e){return Promise.resolve(a.call(loader,e,t)).then(function(e){return r(e)})})};var o;if("undefined"==typeof window)o=__dirname+"/";else if(o=document.baseURI,!o){var s=document.getElementsByTagName("base");o=s[0]&&s[0].href||window.location.href}System.meta={};var l,i=loader.locate;loader.locate=function(e){this.baseURL!=l&&(this.baseURL=l=t(o,this.baseURL));var n=System.meta[e.name];for(var r in n)e.metadata[r]=n[r];return Promise.resolve(i.call(this,e))},loader.__exec=function(e){var r,a=e.source.lastIndexOf("\n");-1!=a&&"//# sourceMappingURL="==e.source.substr(a+1,21)&&(r=t(e.address,e.source.substr(a+22))),__eval(e.source,loader.global,e.address,r),"@traceur"==e.name&&(loader.global.traceurSystem=loader.global.System,loader.global.System=n)}}()}function amdScriptLoader(e){var t=document.getElementsByTagName("head")[0];e.fetch=function(r){return e.defined[r.name]?"":new Promise(function(a,o){var s=document.createElement("script");s.async=!0,s.addEventListener("load",function(){n&&(e.defined[r.name]=n),n=null,a("")},!1),s.addEventListener("error",function(e){o(e)},!1),s.src=r.address,t.appendChild(s)})};var n=null;e.global.define=function(t,r,a){"string"!=typeof t&&(a=r,r=t,t=null),r instanceof Array||(a=r,r=[]),"function"!=typeof a&&(a=function(e){return function(){return e}}(a));for(var o=0;o<r.length;o++)lastIndexOf.call(r,r[o])!=o&&r.splice(o--,1);var s={deps:r,execute:function(){for(var t=[],n=0;n<arguments.length;n++)t.push(e.getModule(arguments[n]));var r=a.apply(this,t);return new e.global.Module(r&&r.__esModule?r:{__useDefault:!0,"default":r})}};t?e.defined[t]=s:n=s},e.global.define.amd={},e.translate=function(){},e.instantiate=function(){return{deps:[],execute:function(){return new Module({})}}};var r=e.requirejs=function(t,n,a,o){if("object"==typeof t&&!(t instanceof Array))return r.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1));if(!(t instanceof Array)){if("string"==typeof t)return e.getModule(t);throw"Invalid require"}Promise.all(t.map(function(t){return e["import"](t,o)})).then(function(e){return n.apply(this,e)},a)}}function bundles(e){e.bundles=e.bundles||{};var t=e.fetch;e.fetch=function(n){for(var r in e.bundles)if(-1!=indexOf.call(e.bundles[r],n.name))return Promise.resolve(e.normalize(r)).then(function(t){return e.bundles[t]=e.bundles[t]||e.bundles[r],e.load(t)}).then(function(){return""});return t.apply(this,arguments)};var n=e.locate;e.locate=function(t){return e.bundles[t.name]&&(t.metadata.bundle=!0),n.call(this,t)};var r=e.instantiate;e.instantiate=function(t){return t.metadata.bundle?{deps:[],execute:function(){return e.__exec(t),new Module({})}}:r.apply(this,arguments)}}function register(e){e.defined={},e.register=function(t,n,r){e.defined[t]={deps:n,execute:function(){return Module(r.apply(this,arguments))}}};var t=e.locate;e.locate=function(n){return e.defined[n.name]?"":t.apply(this,arguments)};var n=e.fetch;e.fetch=function(t){return e.defined[t.name]?"":n.apply(this,arguments)};var r=e.instantiate;e.instantiate=function(t){if(e.defined[t.name]){var n=e.defined[t.name];return delete e.defined[t.name],n}return r.apply(this,arguments)}}function versions(e){var t=/^(\d+)(?:\.(\d+)(?:\.(\d+)(?:-([0-9A-Za-z-]+(?:\.[0-9A-Za-z-]+)*))?)?)?$/,n=function(e,t){var n,r=e.split("."),a=t.split(".");r[2]&&-1!=(n=indexOf.call(r[2],"-"))&&r.splice(2,1,r[2].substr(0,n),r[2].substr(n+1)),a[2]&&-1!=(n=indexOf.call(a[2],"-"))&&a.splice(2,1,a[2].substr(0,n),a[2].substr(n+1));for(var o=0;o<Math.max(r.length,a.length);o++){if(!r[o])return 1;if(!a[o])return-1;if(r[o]!=a[o])return parseInt(r[o])>parseInt(a[o])?1:-1}return 0},r=e.normalize;e.versions=e.versions||{},e.normalize=function(a,o,s){var l=e.versions;return Promise.resolve(r.call(this,a,o,s)).then(function(e){var r,a,o,s,i=e.indexOf("@");if(-1==i){for(var u in l)if(s=l[u],e.substr(0,u.length)==u&&(o=e.substr(u.length,1),!o||"/"==o))return u+"@"+("string"==typeof s?s:s[s.length-1])+e.substr(u.length);return e}r=e.substr(i+1).split("/")[0];var c,d=r.length;if("^"==r.substr(0,1)&&(r=r.substr(1),c=!0),a=r.match(t),!a)return e;c&&(a[2]||(c=!1),a[3]||(a[2]>0?a[3]="0":c=!1)),c&&(a[1]>0?(a[2]||(r=a[1]+".0.0"),a[3]||(r=a[1]+".0"),c=r,a=[a[1]]):a[2]>0?(c=r,a=[0,a[2]]):(c=!1,a=[0,0,a[3]]),r=a.join("."));var f=e.substr(0,i);if(s=l[f]||[],"string"==typeof s&&(s=[s]),!a[3]||c)for(var p=s.length-1;p>=0;p--){var m=s[p];if(m.substr(0,r.length)==r&&m.substr(r.length,1).match(/^[\.\-]?$/)&&(!c||c&&-1!=n(m,c)))return f+"@"+m+e.substr(f.length+d+1)}return-1==indexOf.call(s,r)&&(s.push(r),s.sort(n),e=f+"@"+r+e.substr(f.length+d+1),a[3]&&-1!=(i=indexOf.call(s,a[1]+"."+a[2]))&&s.splice(i,1),a[2]&&-1!=(i=indexOf.call(s,a[1]))&&s.splice(i,1),l[f]=1==s.length?s[0]:s),e})}}__$global.upgradeSystemLoader=void 0;var indexOf=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},lastIndexOf=Array.prototype.lastIndexOf||function(e){for(var t=this.length-1;t>=0;t--)if(this[t]===e)return t;return-t};core(System),productionAMD(System),bundles(System),register(System),versions(System),__$global.systemMainEntryPoint&&System["import"](__$global.systemMainEntryPoint)},function(){if("undefined"!=typeof window){var e=document.getElementsByTagName("script"),t=e[e.length-1];if(__$global.systemMainEntryPoint=t.getAttribute("data-main"),!__$global.System||__$global.System.registerModule){var n=t.src,r=n.substr(0,n.lastIndexOf("/")+1);document.write('<script type="text/javascript" src="'+r+'es6-module-loader.js" data-init="upgradeSystemLoader"></script>')}else __$global.upgradeSystemLoader();var a=t.getAttribute("data-config");a&&document.write('<script type="text/javascript src="'+a+'"></script>')}else{var o=require("es6-module-loader");__$global.System=o.System,__$global.Loader=o.Loader,__$global.Module=o.Module,module.exports=__$global.System,__$global.upgradeSystemLoader()}}()}("undefined"!=typeof window?window:global);