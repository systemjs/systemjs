/*
 * SystemJS
 * 
 * Copyright (c) 2013 Guy Bedford
 * MIT License
 */

!function(__$global){function __eval(__source,__global,__address,__sourceMap){try{__source="with(__global) { (function() { "+__source+" \n }).call(__global); }\n//# sourceURL="+__address+(__sourceMap?"\n//# sourceMappingURL="+__sourceMap:""),eval(__source)}catch(e){throw"SyntaxError"==e.name&&(e.message="Evaluating "+__address+"\n	"+e.message),e}}var indexOf=Array.prototype.indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(this[t]===e)return t;return-1};__$global.upgradeSystemLoader=function(){function e(e){function t(e){var t=this;"@traceur"==e.name&&(p=System,m=Module);var r,a=e.source.lastIndexOf("\n");-1!=a&&"//# sourceMappingURL="==e.source.substr(a+1,21)&&(r=n(e.address,e.source.substr(a+22,e.source.length-a-23))),__eval(e.source,t.global,e.address,r),"@traceur"==e.name&&(t.global.traceurSystem=t.global.System,t.global.System=p)}function r(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function n(e,t){function n(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}return t=r(t||""),e=r(e||""),t&&e?(t.protocol||e.protocol)+(t.protocol||t.authority?t.authority:e.authority)+n(t.protocol||t.authority||"/"===t.pathname.charAt(0)?t.pathname:t.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+t.pathname:e.pathname)+(t.protocol||t.authority||t.pathname?t.search:t.search||e.search)+t.hash:null}var a=e["import"];e["import"]=function(e,t){return a.call(this,e,t).then(function(e){return e.__useDefault?e["default"]:e})},e.set("@empty",Module({})),e.config=function(e){for(var t in e){var r=e[t];if("object"==typeof r){this[t]=this[t]||{};for(var n in r)this[t][n]=r[n]}else this[t]=r}};var i;if("undefined"==typeof window)i=process.cwd()+"/";else if(i=document.baseURI,!i){var o=document.getElementsByTagName("base");i=o[0]&&o[0].href||window.location.href}var s,u=e.locate;e.locate=function(e){return this.baseURL!=s&&(s=n(i,this.baseURL),"/"!=s.substr(s.length-1,1)&&(s+="/"),this.baseURL=s),Promise.resolve(u.call(this,e))};var d=/^\s*export\s*\*\s*from\s*(?:'([^']+)'|"([^"]+)")/,l=/(?:^\s*|[}{\(\);,\n]\s*)(import\s+['"]|(import|module)\s+[^"'\(\)\n;]+\s+from\s+['"]|export\s+(\*|\{|default|function|var|const|let|[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*))/,c=e.translate;e.translate=function(e){var r=this;if(r.__exec=t,"@traceur"==e.name)return c.call(r,e);var n;if(!r.global.traceur&&("es6"==e.metadata.format||!e.metadata.format)&&(n=e.source.match(d))){var a=n[1]||n[2];e.metadata.deps=[a],e.metadata.execute=function(e){return e(a)}}return"es6"!=e.metadata.format&&(e.metadata.format||!e.source.match(l))||(e.metadata.format="es6",r.global.traceur)?c.call(r,e):r["import"]("@traceur").then(function(){return c.call(r,e)})};var f=e.instantiate;e.instantiate=function(e){var t=this;return"@traceur"==e.name?(t.__exec(e),{deps:[],execute:function(){return Module({})}}):f.call(t,e)};var p,m;e.__exec=t}function t(e){function t(e){for(var t=[],r=0;r<e.length;r++)-1==indexOf.call(t,e[r])&&t.push(e[r]);return t}function r(t,r,n){if("string"!=typeof t&&(n=r,r=t,t=null),0==n.length)throw"Invalid System.register form. Ensure setting --modules=instantiate if using Traceur.";e.defined||(e.defined={}),d={deps:r,declare:n,declarative:!0},t&&(e.defined[t]=d)}function n(e,t,r){if(r[e.groupIndex]=r[e.groupIndex]||[],-1==indexOf.call(r[e.groupIndex],e)){r[e.groupIndex].push(e);for(var a=0;a<e.normalizedDeps.length;a++){var i=e.normalizedDeps[a],o=t.defined[i];if(o){var s=e.groupIndex+(o.declarative!=e.declarative);if(void 0===o.groupIndex||o.groupIndex<s){if(o.groupIndex&&(r[o.groupIndex].splice(r[o.groupIndex].indexOf(o),1),0==r[o.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");o.groupIndex=s}n(o,t,r)}}}}function a(e,t){var r=t.defined[e];r.groupIndex=0;var a=[];n(r,t,a);for(var o=!!r.declarative==a.length%2,u=a.length-1;u>=0;u--){for(var d=a[u],l=0;l<d.length;l++){var c=d[l];o?i(c,t):s(c,t)}o=!o}}function i(e,t){if(!e.module){var r=[],n=e.declare.call(t.global,r);e.module=n.exports,e.exportStar=n.exportStar,e.execute=n.execute;for(var a=e.module,o=0;o<e.normalizedDeps.length;o++){var s=e.normalizedDeps[o],u=t.defined[s];u?u.module?depModule=u.module:(i(u,t),depModule=u.module):depModule=t.get(s),e.exportStar&&-1!=indexOf.call(e.exportStar,e.normalizedDeps[o])&&!function(e){for(var t in e)(function(t){Object.defineProperty(a,t,{enumerable:!0,get:function(){return e[t]},set:function(r){e[t]=r}})})(t)}(depModule),r[o]=depModule}}}function o(e,t){var r,n=t.defined[e];return n?(n.declarative?u(e,[],t):n.evaluated||s(n,t),r=n.module):r=t.get(e),r.__useDefault?r["default"]:r}function s(e,t){if(!e.module){if(e.module={},!e.executingRequire)for(var r=0;r<e.normalizedDeps.length;r++){var n=e.normalizedDeps[r],a=t.defined[n];a&&s(a,t)}var i;for(var u in t.defined)if(t.defined[u]==e){i=u;break}try{e.evaluated=!0;var d=e.execute(function(r){for(var n=0;n<e.deps.length;n++)if(e.deps[n]==r)return o(e.normalizedDeps[n],t)},e.module,i)}catch(l){throw l}d&&(e.module=d)}}function u(e,t,r){var n=r.defined[e];if(!n.evaluated&&n.declarative){t.push(e);for(var a=0;a<n.normalizedDeps.length;a++){var i=n.normalizedDeps[a];-1==indexOf.call(t,i)&&(r.defined[i]?u(i,t,r):r.get(i))}n.evaluated||(n.evaluated=!0,n.execute.call(r.global),delete n.execute)}}if("undefined"==typeof indexOf&&(indexOf=Array.prototype.indexOf),!e.__exec)throw"loader.__exec(load) needs to be provided for loader.register. See SystemJS core for an implementation example.";var d;e.defined=e.defined||{},e.register=r;var l=/System\.register/,c=e.fetch;e.fetch=function(e){var t=this;return t.defined&&t.defined[e.name]?"":c(e)};var f=e.translate;e.translate=function(t){return e.register=r,t.metadata.deps=t.metadata.deps||[],("register"==t.metadata.format||!t.metadata.format&&t.source.match(l))&&(t.metadata.format="register"),f.call(this,t)};var p=e.instantiate;e.instantiate=function(e){var r,n=this;if(n.defined[e.name]?n.defined[e.name]=r=n.defined[e.name]:e.metadata.execute?n.defined[e.name]=r={deps:e.metadata.deps||[],execute:e.metadata.execute,executingRequire:e.metadata.executingRequire}:"register"==e.metadata.format&&(d=null,n.__exec(e),d&&(n.defined[e.name]=r=d)),!r)return p.call(this,e);r.deps=t(r.deps);for(var i=[],o=0;o<r.deps.length;o++)i.push(Promise.resolve(n.normalize(r.deps[o],e.name)));return Promise.all(i).then(function(t){return r.normalizedDeps=t,r.depMap=[],r.asdfasdf="asdf"+Math.random(),{deps:r.deps,execute:function(){if(r.esmodule)return delete n.defined[e.name],r.esmodule;a(e.name,n),u(e.name,[],n),delete n.defined[e.name];var t=Module(r.module);for(var i in n.defined)n.defined[i].execute==r.execute&&(n.defined[i].esmodule=t);return t}}})}}function r(e){"undefined"==typeof indexOf&&(indexOf=Array.prototype.indexOf);var t=document.getElementsByTagName("head")[0];e.fetch=function(e){return new Promise(function(r,n){var a=document.createElement("script");a.async=!0,a.addEventListener("load",function(){r("")},!1),a.addEventListener("error",function(e){n(e)},!1),a.src=e.address,t.appendChild(a)})}}function n(e){function t(e,t){var r=t.split("/"),n=e.split("/");if(r.length>n.length)return 0;for(var a=0;a<r.length;a++)if(n[a]!=r[a])return 0;return r.length}function r(e,r,n){var a,i,o,s,u=0,d=0;if(r)for(var l in n.map){var c=n.map[l];if("object"==typeof c&&!(t(r,l)<=d))for(var f in c)t(e,f)<=u||(a=f,u=f.split("/").length,i=l,d=l.split("/").length)}a&&(s=e.split("/"),o=s.splice(u,s.length-u).join("/"),e=n.map[i][a]+(o?"/"+o:""),u=0);for(var l in n.map){var c=n.map[l];"string"==typeof c&&(t(e,l)<=u||(a=l,u=l.split("/").length))}return u?(s=e.split("/"),o=s.splice(u,s.length-u).join("/"),n.map[a]+(o?"/"+o:"")):e}e.map=e.map||{};var n=e.normalize;e.normalize=function(e,t,a){var i=this;return i.map||(i.map={}),Promise.resolve(n.call(i,e,t,a)).then(function(e){return r(e,t,i)})}}function a(e){"undefined"==typeof indexOf&&(indexOf=Array.prototype.indexOf),e.bundles=e.bundles||{};var t=e.fetch;e.fetch=function(r){e.bundles||(e.bundles={});for(var n in e.bundles)if(-1!=indexOf.call(e.bundles[n],r.name))return Promise.resolve(e.normalize(n)).then(function(t){return e.bundles[t]=e.bundles[t]||e.bundles[n],e.load(t)}).then(function(){return""});return t.apply(this,arguments)}}function i(e){"undefined"==typeof indexOf&&(indexOf=Array.prototype.indexOf);var t=/^(\d+)(?:\.(\d+)(?:\.(\d+)(?:-([0-9A-Za-z-]+(?:\.[0-9A-Za-z-]+)*))?)?)?$/,r=function(e,t){var r,n=e.split("."),a=t.split(".");n[2]&&-1!=(r=indexOf.call(n[2],"-"))&&n.splice(2,1,n[2].substr(0,r),n[2].substr(r+1)),a[2]&&-1!=(r=indexOf.call(a[2],"-"))&&a.splice(2,1,a[2].substr(0,r),a[2].substr(r+1));for(var i=0;i<Math.max(n.length,a.length);i++){if(!n[i])return 1;if(!a[i])return-1;if(n[i]!=a[i])return parseInt(n[i])>parseInt(a[i])?1:-1}return 0};e.versions=e.versions||{};var n=e.normalize;e.normalize=function(a,i,o){e.versions||(e.versions={});var s=this.versions;return Promise.resolve(n.call(this,a,i,o)).then(function(e){var n,a,i,o,u=e.indexOf("@");if(-1==u||0==u){for(var d in s)if(o=s[d],e.substr(0,d.length)==d&&(i=e.substr(d.length,1),!i||"/"==i))return d+"@"+("string"==typeof o?o:o[o.length-1])+e.substr(d.length);return e}n=e.substr(u+1).split("/")[0];var l,c=n.length;if("^"==n.substr(0,1)&&(n=n.substr(1),l=!0),a=n.match(t),!a)return e;l&&(a[2]||(l=!1),a[3]||(a[2]>0?a[3]="0":l=!1)),l&&(a[1]>0?(a[2]||(n=a[1]+".0.0"),a[3]||(n=a[1]+".0"),l=n,a=[a[1]]):a[2]>0?(l=n,a=[0,a[2]]):(l=!1,a=[0,0,a[3]]),n=a.join("."));var f=e.substr(0,u);if(o=s[f]||[],"string"==typeof o&&(o=[o]),!a[3]||l)for(var p=o.length-1;p>=0;p--){var m=o[p];if(m.substr(0,n.length)==n&&m.substr(n.length,1).match(/^[\.\-]?$/)&&(!l||l&&-1!=r(m,l)))return f+"@"+m+e.substr(f.length+c+1)}return-1==indexOf.call(o,n)&&(o.push(n),o.sort(r),e=f+"@"+n+e.substr(f.length+c+1),a[3]&&-1!=(u=indexOf.call(o,a[1]+"."+a[2]))&&o.splice(u,1),a[2]&&-1!=(u=indexOf.call(o,a[1]))&&o.splice(u,1),s[f]=1==o.length?o[0]:o),e})}}if(__$global.upgradeSystemLoader=void 0,e(System),t(System),r(System),n(System),a(System),i(System),__$curScript){System.baseURL=__$curScript.getAttribute("data-baseurl")||System.baseURL;var o=__$curScript.getAttribute("data-config");""===o&&(o=System.baseURL+"config.json");var s=__$curScript.getAttribute("data-main");System.paths["@traceur"]||(System.paths["@traceur"]="undefined"!=typeof __$curScript&&__$curScript.getAttribute("data-traceur-src")),(o?Promise.resolve(System.fetch.call(System,{address:o,metadata:{}})).then(JSON.parse).then(System.config):Promise.resolve()).then(function(){return s?System["import"](s):void 0})["catch"](function(e){setTimeout(function(){throw e})})}};var __$curScript;!function(e){if("undefined"!=typeof window){var t=document.getElementsByTagName("script");if(__$curScript=t[t.length-1],!e.System||e.System.registerModule){var r=__$curScript.src,n=r.substr(0,r.lastIndexOf("/")+1);document.write('<script type="text/javascript" src="'+n+'es6-module-loader.js" data-init="upgradeSystemLoader"></script>')}else e.upgradeSystemLoader()}else{var a=require("es6-module-loader");e.System=a.System,e.Loader=a.Loader,e.Module=a.Module,module.exports=e.System,e.upgradeSystemLoader()}}(__$global)}("undefined"!=typeof window?window:global);