/*
 * SystemJS
 * 
 * Copyright (c) 2013 Guy Bedford
 * MIT License
 */

!function(e){e.upgradeSystemLoader=function(){delete e.upgradeSystemLoader,function(){if("undefined"==typeof System)throw"System not defined. Include the `es6-module-loader.js` polyfill before SystemJS.";var e=function(t){if(!(t instanceof Module)){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r]);return n}return t.__defaultOnly?t["default"]:t},t=System.get;System.get=function(n){var r=t.call(this,n);return e(r)};var n=System.import;System.import=function(t,r){return new Promise(function(e){e(System.normalize.call(this,t,r&&r.name,r&&r.address))}).then(function(e){return n.call(System,e,r)}).then(function(t){return e(t)})}}(),function(){function e(e,t){var n=t.split("/"),r=e.split("/");if(n.length>r.length)return 0;for(var s=0;s<n.length;s++)if(r[s]!=n[s])return 0;return n.length}function t(t,n){var r,s,i=0,a=0;if(n){for(var u in System.map){var o=System.map[u];if("object"==typeof o&&!(e(n,u)<=a))for(var l in o)e(t,l)<=i||(r=l,i=l.split("/").length,s=u,a=u.split("/").length)}if(r){var f=t.split("/").splice(i).join("/");return System.map[s][r]+(f?"/"+f:"")}}for(var u in System.map){var o=System.map[u];"string"==typeof o&&(e(t,u)<=i||(r=u,i=u.split("/").length))}if(!r)return t;var f=t.split("/").splice(i).join("/");return System.map[r]+(f?"/"+f:"")}System.map=System.map||{};var n=System.normalize.bind(System);System.normalize=function(e,r,s){return Promise.resolve(n(e,r,s)).then(function(e){return t(e,r)})}}(),function(){var e=/^(\d+)(?:\.(\d+)(?:\.(\d+)(?:-([0-9A-Za-z-]+(?:\.[0-9A-Za-z-]+)*))?)?)?$/,t=function(e,t){var n,r=e.split("."),s=t.split(".");r[2]&&-1!=(n=r[2].indexOf("-"))&&r.splice(2,1,r[2].substr(0,n),r[2].substr(n+1)),s[2]&&-1!=(n=s[2].indexOf("-"))&&s.splice(2,1,s[2].substr(0,n),s[2].substr(n+1));for(var i=0;i<Math.max(r.length,s.length);i++){if(!r[i])return!0;if(!s[i])return!1;if(r[i]!=s[i])return r[i]>s[i]}return!0},n=System.normalize;System.versions=System.versions||{},System.normalize=function(r,s,i){var a=System.versions;return Promise.resolve(n.call(this,r,s,i)).then(function(n){var r,s,i,u,o=n.indexOf("@");if(-1==o){for(var l in a)if(u=a[l],"string"==typeof u&&(u=[u]),n.substr(0,l.length)==l&&(i=n.charAt(l.length),!i||"/"==i))return l+"@"+u[u.length-1]+n.substr(l.length);return n}r=n.substr(o+1).split("/")[0];var f;if("^"==r.substr(0,1)&&(r=r.substr(1),f=!0),s=r.match(e),f&&(s[1]>0?(f=r,s=[s[1]]):s[2]>0?(f=r,s=[0,s[2]]):(f=!1,s=[0,0,s[3]]),r=s.join("."),n=n.substr(0,o+1)+r),!s)return n;var m=n.substr(0,o);if(u=a[m]||[],"string"==typeof u&&(u=[u]),!s[3]||f)for(var d=u.length-1;d>=0;d--){var c=u[d];if(c.substr(0,r.length)==r&&c.charAt(r.length).match(/^[\.\-]?$/)&&(!f||f&&t(c,f)))return m+"@"+c+n.substr(m.length+r.length+1)}return-1==u.indexOf(r)&&(u.push(r),u.sort(t),a[m]=1==u.length?u[0]:u),n})}}(),function(e){var t=document.getElementsByTagName("head")[0];System.bundles=System.bundles||{};System.fetch;System.fetch=function(e){for(var r in System.bundles)if(-1!=System.bundles[r].indexOf(e.name))return System.import(r).then(function(){return""});return i[e.name]?"":new Promise(function(r,s){var a=document.createElement("script");a.async=!0,a.addEventListener("load",function(){n&&(i[e.name]=n),n=null,r("")},!1),a.addEventListener("error",function(e){s(e)},!1),a.src=e.address,t.appendChild(a)})};var n=null;e.define=function(t,r,s){"string"!=typeof t&&(s=r,r=t,t=null),r instanceof Array||(s=r),"function"!=typeof s&&(s=function(e){return function(){return e}}(s));var a={deps:r,execute:function(){for(var t=[],n=0;n<arguments.length;n++)t.push(System.get(arguments[n]));var r=s.apply(this,t);return new e.Module(r&&r.__transpiledModule?(delete r.__transpiledModule,r):{__defaultOnly:!0,"default":r})}};t?i[t]=a:n=a},e.define.amd={};var r=System.locate;System.locate=function(e){return e.metadata.bundle?"":r.call(this,e)},System.translate=function(){};var s=System.requirejs=function(e,t,n,r){if("object"==typeof e&&!(e instanceof Array))return s.apply(null,Array.prototype.splice.call(arguments,1));if(!(e instanceof Array)){if("string"==typeof e)return System.get(e);throw"Invalid require"}Promise.all(e.map(function(e){return System.import(e,r)})).then(t,n)},i={};System.instantiate=function(e){return i[e.name]?i[e.name]:{deps:[],execute:function(){return new Module({})}}}}("undefined"!=typeof window?window:e)},function(){if(e.System)e.upgradeSystemLoader();else if("undefined"!=typeof window){var t=document.getElementsByTagName("script"),n=t[t.length-1].src,r=n.substr(0,n.lastIndexOf("/")+1);document.write('<script type="text/javascript" src="'+r+'es6-module-loader.js" data-init="upgradeSystemLoader"></script>')}else{var s=require("es6-module-loader");e.System=s.System,e.Loader=s.Loader,e.Module=s.Module,module.exports=e.System,e.upgradeSystemLoader()}}()}("undefined"!=typeof window?window:global);